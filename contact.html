<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Contact - Sknna.ma</title>
  <link rel="stylesheet" href="style_contact.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
<header>
<a href="aceuill.html">
    <img id="siteLogo" src="IMAGES/Logo_mode_light.png" alt="Logo Sknna.ma" class="logo">
</a>

  <nav>
    <ul class="menu">
      <li><a href="logements.html">Logements</a></li>
      <li><a href="Colocation.html">Colocation</a></li>
      <li><a href="publier_annonce.html">Publier une annonce</a></li>
      <li><a href="publier_demande.html">Lancer une demande</a></li>
      <li><a href="Demandes.html">Demandes</a></li>
      <li><a href="contact.html">Contact</a></li>
      <li><a href="presentation.html">Présentation</a></li>
      <li><a href="Se_Connecter.html">Se connecter</a></li>
      <li><a href="creation_Compt.html">S'inscrire</a></li>
    </ul>
  </nav>
  <div class="menu-toggle">
    <i class="fas fa-bars"></i>
  </div>
  
</header>
<main>
 
  <!-- Container principal -->
  <div class="container">

    <h1>Contactez-nous</h1>
    <p class="center-text">- Une question, une suggestion ou un problème technique ? Remplissez le formulaire ci-dessous :</p>

    <div class="form-image-wrapper">

      <!-- Section formulaire -->
      <div class="form-section">

        <form action="aceuill.html" method="post"novalidate>

          <label for="nom">Nom :</label>
          <input type="text" id="nom" name="nom" required>
          <div class="error-message" id="error-message"></div>

          <label for="email">Email :</label>
          <input type="email" id="email" name="email" required>
          <div class="error-message" id="error-message"></div>
          
          <label for="sujet">Sujet :</label>
          <input type="text" id="sujet" name="sujet" placeholder="Objet de votre message" required>
          <div class="error-message" id="error-message"></div>

          <label for="message">Message :</label>
          <textarea id="message" name="message" rows="5" required placeholder="Votre message..."></textarea>
          <div class="error-message" id="error-message"></div>

          <button id="btn" type="submit">Envoyer</button>
          <button id="resetBtn" type="reset">Effacer</button>
        </form>

      </div>

      <!-- Image à droite -->
      <div class="image-section">
        <img src="IMAGES/contact.png" alt="Contact image">
      </div>

    </div>
</main>
  <footer>
  <p>Suivez-nous sur : <a href="#">Facebook</a> | <a href="#">Instagram</a> | <a href="#">LinkedIn</a></p>
  <p>© 2025 Sknna.ma – Tous droits réservés.</p>
</footer>

<script>
// ========== MENU BURGER FONCTIONNEL ==========
document.addEventListener('DOMContentLoaded', function() {
    const menuToggle = document.querySelector('.menu-toggle');
    const nav = document.querySelector('nav');
    const menu = document.querySelector('.menu');

    // Menu burger functionality
    if (menuToggle && nav) {
        menuToggle.addEventListener('click', function(e) {
            e.stopPropagation();
            nav.classList.toggle('active');
        });

        // Fermer le menu en cliquant ailleurs
        document.addEventListener('click', function(e) {
            if (!nav.contains(e.target)) {
                nav.classList.remove('active');
            }
        });

        // Empêcher la fermeture quand on clique dans le menu
        if (menu) {
            menu.addEventListener('click', function(e) {
                e.stopPropagation();
            });
        }
    }

    // ========== DARK MODE TOGGLE ==========
    const header = document.querySelector("header"); 
    const modeBtn = document.createElement("button");
    modeBtn.id = "darkModeToggle";
    modeBtn.classList.add("dark-toggle-btn");
    
    modeBtn.innerHTML = `<i class="fa-regular fa-moon"></i>`;
    modeBtn.style.marginLeft = "15px";
    header.appendChild(modeBtn);

    const logo = document.getElementById("siteLogo");

    modeBtn.addEventListener("click", () => {
        document.body.classList.toggle("dark-mode");
        const isDark = document.body.classList.contains("dark-mode");

        modeBtn.innerHTML = isDark 
            ? `<i class="fa-regular fa-sun"></i>`
            : `<i class="fa-regular fa-moon"></i>`;

        logo.src = isDark
            ? "IMAGES/Logo_mode_dark.png"
            : "IMAGES/Logo_mode_light.png";
    });
});

// ================= VALIDATION FORMULAIRE CONTACT =================
document.addEventListener("DOMContentLoaded", function () {

  const form = document.querySelector("form");
  const nom = document.getElementById("nom");
  const email = document.getElementById("email");
  const sujet = document.getElementById("sujet");
  const message = document.getElementById("message");

  form.addEventListener("submit", function (e) {
    e.preventDefault(); // Empêche le rechargement

    let valid = true;

    // Fonction pour afficher erreur
    function showError(input, message) {
      const errorDiv = input.nextElementSibling;
      errorDiv.textContent = message;
      input.style.borderColor = "red";
      valid = false;
    }

    // Fonction pour effacer erreur
    function clearError(input) {
      const errorDiv = input.nextElementSibling;
      errorDiv.textContent = "";
      input.style.borderColor = "#92487A"; // ta couleur d'origine
    }

    // Validation NOM
    if (nom.value.trim() === "") {
      showError(nom, "Veuillez entrer votre nom.");
    } else {
      clearError(nom);
    }

    // Validation EMAIL
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (email.value.trim() === "") {
      showError(email, "Veuillez entrer votre email.");
    } else if (!emailRegex.test(email.value)) {
      showError(email, "Veuillez entrer un email valide.");
    } else {
      clearError(email);
    }

    // Validation SUJET
    if (sujet.value.trim() === "") {
      showError(sujet, "Veuillez entrer le sujet.");
    } else {
      clearError(sujet);
    }

    // Validation MESSAGE
    if (message.value.trim() === "") {
      showError(message, "Veuillez écrire votre message.");
    } else {
      clearError(message);
    }

    // Si tout est OK → envoyer
    if (valid) {
      alert("Votre message a été envoyé avec succès !");
      form.reset();
    }
  });

  // Supprimer erreurs quand l’utilisateur corrige
  [nom, email, sujet, message].forEach(input => {
    input.addEventListener("input", () => {
      const errorDiv = input.nextElementSibling;
      errorDiv.textContent = "";
      input.style.borderColor = "#92487A";
    });
  });

});

</script>
</body>
</html>